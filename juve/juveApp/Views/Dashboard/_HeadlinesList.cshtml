@model IEnumerable<juveApp.Models.Headline>

<div id="headlines-list">
    @if (Model != null && Model.Any())
    {
        <div class="space-y-3">
            @foreach (var headline in Model)
            {
                <div class="flex justify-between items-start p-4 bg-gray-50 rounded-lg">
                    <div class="flex-1">
                        <p class="text-gray-800">@headline.Message</p>
                        <p class="text-sm text-gray-500 mt-1">
                            Posted @headline.CreatedAt.ToString("MMM dd, yyyy 'at' h:mm tt")
                        </p>
                    </div>
                    <form asp-action="DeleteHeadline" asp-route-id="@headline.HeadlineId" method="post"
                        hx-post="/dashboard/delete-headline/@headline.HeadlineId" hx-target="#headlines-list"
                        hx-swap="outerHTML" hx-confirm="Are you sure you want to delete this headline?">
                        @Html.AntiForgeryToken()
                        <button type="submit" class="ml-4 text-red-600 hover:text-red-700 text-sm">
                            Delete
                        </button>
                    </form>
                </div>
            }
        </div>
    }
    else
    {
        <p class="text-gray-500">No headlines posted yet.</p>
    }
</div>